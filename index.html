<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>MOU Targets of Rolling Stock Vertical</title>
    <meta charset="utf-8" />
    <meta name="author" content="गोपाल कुमार , प्रमुख कार्यकारी निदेशक (रोलिंग स्टॉक)" />
    <script src="libs/header-attrs/header-attrs.js"></script>
    <link href="libs/remark-css/default.css" rel="stylesheet" />
    <link href="libs/remark-css/rladies.css" rel="stylesheet" />
    <link href="libs/remark-css/rladies-fonts.css" rel="stylesheet" />
    <link href="libs/remark-css/chocolate-fonts.css" rel="stylesheet" />
    <link href="libs/panelset/panelset.css" rel="stylesheet" />
    <script src="libs/panelset/panelset.js"></script>
    <script src="libs/htmlwidgets/htmlwidgets.js"></script>
    <script src="libs/jquery/jquery.min.js"></script>
    <link href="libs/leaflet/leaflet.css" rel="stylesheet" />
    <script src="libs/leaflet/leaflet.js"></script>
    <link href="libs/leafletfix/leafletfix.css" rel="stylesheet" />
    <script src="libs/proj4/proj4.min.js"></script>
    <script src="libs/Proj4Leaflet/proj4leaflet.js"></script>
    <link href="libs/rstudio_leaflet/rstudio_leaflet.css" rel="stylesheet" />
    <script src="libs/leaflet-binding/leaflet.js"></script>
    <link href="libs/datatables-css/datatables-crosstalk.css" rel="stylesheet" />
    <script src="libs/datatables-binding/datatables.js"></script>
    <link href="libs/dt-core/css/jquery.dataTables.min.css" rel="stylesheet" />
    <link href="libs/dt-core/css/jquery.dataTables.extra.css" rel="stylesheet" />
    <script src="libs/dt-core/js/jquery.dataTables.min.js"></script>
    <link href="libs/crosstalk/css/crosstalk.css" rel="stylesheet" />
    <script src="libs/crosstalk/js/crosstalk.min.js"></script>
    <link rel="stylesheet" href="gk_css.css" type="text/css" />
    <link rel="stylesheet" href="xaringan-themer.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

.title[
# MOU Targets of Rolling Stock Vertical
]
.subtitle[
## रोलिंग स्टॉक वर्टिकल के लक्ष्य की प्रगति का ब्योरा
]
.author[
### गोपाल कुमार , प्रमुख कार्यकारी निदेशक (रोलिंग स्टॉक)
]
.institute[
### अनुसंधान अभिकल्प और मानक संगठन (RDSO), Lucknow
]
.date[
### 2023-01-12 ( आज दिनांक : 2023-01-12)
]

---








background-image: url(https://images.unsplash.com/photo-1507525428034-b723cf961d3e?ixlib=rb-4.0.3&amp;ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&amp;auto=format&amp;fit=crop&amp;w=3873&amp;q=80)


Image credit: [Wikimedia Commons](https://openmarkets.in/wp-content/uploads/2012/03/Indian-Railways-logo-150x150.gif)

---
background-image: dahlia.png
background-position: 50% 50%
background-size: cover
class: inverse middle
class: center, middle

background-image: url(https://akm-img-a-in.tosshub.com/indiatoday/images/story/201810/indian-railway_650_020315033408.jpeg?Fuh6JGGRTy0dVPl8FfSKjGMuKgPUzZaK)

---

# प्रस्तुति का संक्षिप्त विवरण 



# वेन्डोर डेवलपमेंट 


# वेन्डोर

This **.red[simple]** .white.bg-purple[demo]
_.orange[shows]_ the colors .green[in action].



---

# Rolling Stock



## MOTIVE POWER DIRECTORATE



### **Reduction of the items having less than 3 Vendors **

    There were 9 sub items being controlled by MP dte having less than 3 vendors. With the development of specification and continuous chasing with the prospective vendors, 2 more vendors have been enlisted in the vendor directory on 29.08.22 for supply and manufacturing of 8 valves.


    2 more vendors (M/s Topgrip Instruments Company, Kolkata &amp; M/s Locomatics-Krishnagiri) have been included in the vendor directory on 9.08.22, available on UVAM for manufacture &amp; supply of 8 brake valves used in IRAB brake system of Diesel &amp; Electric locomotives. Now, out of 9 items, 8 items have been deleted from the list of items having less than 3 vendors.


    With this development, vendor base has been increased and procurement can be done with more competitive rates as earlier only one vendor was available for these brake valves.

### **Development of indigenous source for ‘Bearings, Traction Motor- TM Drive end (DIN 43283-N 332-ECM-SRL 340-370-VA309) for EMD locomotives’**

    Based on satisfactory performance feedback received from PU / Zonal Railways and fulfilling of eligibility criteria i.e. qualifying quantity (15 Nos.) &amp; qualifying period (6 months) for regular supply under ‘Developmental Vendors’, M/s National Engineering Industries Ltd., Jaipur (ID-2545) has been approved for removal of field trials restriction against existing status of ‘Developmental Vendors’ for ‘Bearings, Traction Motor- TM Drive end (DIN 43283-N 332-ECM-SRL 340-370-VA309) for EMD locomotives’.


    On 29.08.2022, firm has been approved for regular supply under ‘Developmental Vendors’


    This will enhance vendor base for price competitiveness and save foreign exchange.

###. **Review and Revision of Maintenance Schedule for Suction and Discharge Valves of Water-Cooled Air Compressor for HHP Locomotives**

    In view of significant failures reported on account of Air compressor of HHP locomotives, it was proposed to carry out comprehensive failure analysis and review the reliability action plan. Accordingly, Zonal Railways were requested to furnish the details of make-wise failures and shed detections of Water-Cooled Air Compressor on HHP Locomotives w.e.f. 01.04.20 onwards. 


    Based on the failure details received from Zonal Railways (20 sheds) and the data available on ‘Loco reliability portal’ of RDSO, it is concluded that out of 166 failures related to compressor, 69 failures (i.e. 41 % of total failures of compressor) are attributed to suction/discharge valves and un-loader device of compressor only. 


    Schedule attention recommended by OEMs and issued by RDSO has also been reviewed and it is concluded that there is an urgent need to incorporate the item as ‘cleaning schedule of suction and discharge valves’ in schedule of standard examination MP Misc. -285 and MP Misc. 362 respectively.


    Recommendations for cleaning schedule for suction and discharge valves of Elgi and GD make compressor have been issued to all Zonal Railways and Railway Bard’s vide this office letter no. SD.DEV.GM. Compressor dated 27.10.2022.


    It will improve the reliability of Water-cooled Air compressor.

### **Type Testing of Glass Fibre Bag Filter for HHP Locomotives manufactured by M/s Pioneer Fil-Med Pvt. Ltd./Gurugram using Glass Fibre Filter Media (HXN3) of M/s Guangzhou Railway Locomotive Fittings Works Co. Ltd./China**

    Joint Type Testing of Glass Fibre Bag Filter for HHP Locomotives manufactured by M/s Pioneer Fil-Med Pvt. Ltd./Gurugram using Glass Fibre Filter Media (HXN3) of M/s Guangzhou Railway Locomotive Fittings Works Co. Ltd./China with BLW was carried out at premises of M/s Pioneer/Gurugram from 02-11-2022 to 11-11-2022 for judging performance of the new filter media. The results were OK.


    Future supply of Glass Fibre Bag Filter manufactured using alternate media HXN3, to Indian Railways can be ensured and this will help in diversification of sources.

### **Height reduction of WDM3D locomotives to meet Bangladesh SOD **

    As per Railway Board letter no. 2022/M(L)/466/13 dated 04.08.2022, Northern railway has nominated 07 WDM3D locomotive to transfer to Bangladesh. However, to meet Bangladesh Railway SOD, height of these locomotives needs to be kept below 4274mm. 


    Measurement of 07 nos. of WDM3D locomotives has been carried out jointly by RDSO and Alambagh shed officials at Alambagh shed and joint report has been sent to CME, NR Baroda house, New Delhi by AMV shed for further necessary action. Guidelines to keep height below 4274 mm have also been issued vide letter No. SD.Dev.L.WDM3D dated 13.10.2022. This will help in utilization of surplus diesel locomotives.

### **Design development of Standard gauge bogie to be fitted under carbody of in-service WDM3A loco**

    As requested by BLW vide letter no. BLW/D&amp;D/Standard Gauge / Pt-1 dated 13.05.2022, RDSO has developed Standard gauge bogie to be fitted under carbody of in-service WDM3A locos. Complete set of design drawings (30 nos.) has been sent to BLW vide letter no. SV.Export dated 20.12.2022. The design of bogie frame has been analyzed by Finite Element Analysis to confirm its adequacy for strength consideration. FEA has been completed and Report No. MP.Misc-367(Rev.00) is prepared to ensure the structural strength of the bogie frame. Utilisation of surplus diesel locomotives by exporting.

### **Development of new source M/s National Engineering Industries Ltd.-Jaipur for “Bearings for Traction Motor, ALCo locomotives - (NU328 &amp; NH 318 rivetless)”**

    M/s National Engineering Industries Ltd.-Jaipur applied on 02.11.2022 with online vendor Request ID: 16969 through U-VAM for development of item “Bearings for Traction Motor, ALCo locomotives - (NU328 &amp; NH 318 rivetless)”. After scrutiny of application for fresh registration as per requirement of STR mentioned in FRS No. MP.0.2402.27 (Rev.-01), April-2022, firm has been approved.  


    The firm has been placed in UVAM on 20.12.2022 for the item as developmental vendor with conditional approval.


    Development of new Source will enhance vendor base and price competitiveness.

### **Issue of Various Speed Certificates in the year 2022: **

    Motive Power Directorate has issued 194 speed certificates from Jan’22 to Dec’22. Month wise details are given below:

---



# Wagon

            1. 
## **Mission Raftaar:**


1. As part of Project “Mission Raftaar”, Wagon Directorate has undertaken a project to enhance the speed potential of all wagons. There have been around 25 variants of wagons tested out of which eighteen variants of wagons have achieved the desired speed in empty and/or loaded conditions.  The other seven wagons include BCNAM1, BCNM1, BCNHSM1, BTPN, BOBRNM1, BFNS22.9, and BOBRM1. Oscillation trials results of these wagons were analysed and dynamic simulation using NUCARS were conducted using the recent track profile data.  Based on the dynamic simulation of the wagons, a modified suspension was envisaged. The design parameters of the suspension were finalised and springs manufactured for oscillation trials.
2. Wagon Directorate has completed validation of dynamic characteristics of all the planned wagons in oscillation trials successfully to increase the speed potential to 100Kmph undertaking more than 36 numbers of oscillation trials. This has made possible to upgrade the speed potential of 54 major variants of wagons constituting approximately 60% of total wagons population to 100 Kmph speed. A summary sheet enclosed as Annexure-A. 
3. It is pertinent to mention that at the time of inception of this project in 2017-18, there were only 9 variants of wagons constituting 36% of total wagon population who were fit to run upto 100 Kmph speed. 

---


##	Development of Wagon

**(i)	Wagon for Ministry of Defense: BCDS**



* Special wagon for transportation of special consignments of DRDO.
* Design completed in a very short period of time.
* Design validated jointly with DRDO for their specific purposes.
* Prototype manufactured, tested and handed over to DRDO.  
* Provisional Speed certificate issue.
* _With the successfully induction of this design in a very short period, DRDO has now requested to develop few more types of wagon for complete Rail solution of strategic important projects._

**(ii)	Taller height Auto car: BCATIC**



* Taller height double deck auto car carrying wagon for transportation for SUV’s in double deck
* Fixed deck enchasing structural strength.
* Uniform floor height for easy loading and unloading
* 3 fold end swing door for efficient operation
* Optimized deck height for loading SUVs in both deck
* Prototype developed and Oscillation trials started.



**(iii) 	Multi Commodity: RORO**



        * Low floor height flat wagons for transportation of Multi commodities like Trucks,  steel coils, flats and containers
        * Min width 3050mm, suitable for loading of all type of trucks
        * Designed for 60t pay load.
        * Low floor height of 975mm; Enabling transportation of ISO containers and trucks over IR.
        * 5 variants gives flexibility to train operator for loading various commodities.




**(iv) 	Hopper wagon: BOBSNS**



* Hopper Wagon with a provision of side discharge; used for transportation of Ores.
* Shorter in length; resulting 5 more wagons per rake.
* Designed for 25t axle load.
* Better material used i.e. stainless steel for body &amp; IS:2062 E:450 for other structural components.
* 12% increase in rake  throughput (22.9t)





### **Status: **



* Prototype developed. 
* Railway Board Sanction received for introduction over IR.
* Detailed Oscillation trial planned over WR. PDC: Jan 2023.

**(vi) 	Cement/Fly Ash: BCFCM**



* Air assisted bottom discharge Hopper wagon for transportation of Cement and Fly ash.
* Low discharge pressure of 0.2kg/cm2
* 13 % more volumetric capacity to accommodate low density material
* Better material; IS:2062 E450



&lt;p id="gdcalert6" &gt;&lt;span style="color: red; font-weight: bold"&gt;&gt;&gt;&gt;&gt;&gt;  gd2md-html alert: inline image link here (to images/image6.jpg). Store image on your image server and adjust path/filename/extension if necessary. &lt;/span&gt;&lt;br&gt;(&lt;a href="#"&gt;Back to top&lt;/a&gt;)(&lt;a href="#gdcalert7"&gt;Next alert&lt;/a&gt;)&lt;br&gt;&lt;span style="color: red; font-weight: bold"&gt;&gt;&gt;&gt;&gt;&gt; &lt;/span&gt;&lt;/p&gt;



**Status:  **Series production started 9 rakes under production.

**(vii)	Alumina/Cement/Fly ash: BTFC**



* Tank wagon with air assisted side discharge for transportation of Alumina, cement and Fly ash.
* 7% more throughput vis-à-vis existing BTAP wagon
* Designed within IRSOD, can operate on IR network which was restricted in existing BTAP wagon


**Status: **Prototype under manufacturing at M/s BWT

---

# Commendable Work of Carriage dte during 2022

---

## list of Carriage work
1. Approval of design documents, Testing, Trials and successful induction of Vande Bharat trains (Ver-2)
2. Specification for Manufacturing cum Maintenance of 200 Vande Bharat Trainsets (Sleeper type Distributed power trains) fit to run at 160kmph
3. Specification for Manufacturing cum Maintenance of New generation energy efficient 100 Vande Bharat trainsets with Distributed Power system fit to run at 200kmph
4. Specification for Manufacturing cum Maintenance of 100 New generation energy efficient Vande Bharat trains with Concentrated Power system fit to run at200kmph
5. Tender schedule for off-take agreement with prospective supplier for assured supply of wheels for rolling stock for next 20 years
6. Introduction of New Rolling Stock- Layouts for following Rolling Stock(s) are being designed and developed and issued for manufacturing of trains/coaches
1. Freight EMU on Vande Bharat platform
2. AC vista dome Dinning car
3. Treasury Van on LHB platform
4. Maha Metro on Vande Bharat platform
5. LHB AC SLRD
7. Validation of RINL for supply of Forged wheels
8. Setting up of Fire Testing lab at RDSO
9. Guidelines for retro-fitment of Low Cost Fire detection cum alarm systems for existing EMU and MEMU stock
10. Fire detection cum alarm system for all kinds of EMU and MEMU stock for future production
11.     Preparation of crashworthy headstock for LHB coaches
12. Following issues related with Train operation have been analysed and reports have been submitted
1. Safety aspects of ICF coaches
2. Jerks in LHB coaches
3. Pressure drop in LHB coaches
4. Fire safety audit and formulation of Fire safety plan for Vande Bharat express
13. All item under control of Carriage Directorate are having more than 3 Vendors
14. Final speed certificates have been issued for following stock
1. Dalian Rakes for Kolkata Metro
2. Under slung AC EMU with three phase electrics
3. On board MEMU fit to run at 110kmph
4. Underslung MEMU with three phase electrics

    15. All planned COCRs are completed and speed certificate for operation are issued

---

# Vendor Development in RDSO

RDSO has taken active efforts to streamline vendor development and to bring transparency and promptness in dealing with vendor cases. This includes various steps for introducing the ease of doing business like ensuring availability of specification/STR/Drawings/photos and all information necessary for vendor registration on the UVAM website. Further, RDSO has waived the testing charges in RDSO Labs and promptness in ensuring timely disposal of the cases. This is reflected in the following achievements:


    1.  	With the faster disposal of vendor registration, now for the first time less than 100 cases (96 cases only) of vendor registration are pending for disposal with RDSO at the end of Dec’22 as against 232 cases at the end of Dec’22.


    2.  	The average time for disposal of vendor registration cases in RDSO is less now than 3 months (88 days).  All cases are disposed of in 4 months (only 6 exceptional cases are over 4 months but are still within 6 months). All out efforts are being made to further reduce the time for disposal.


    3.  	RDSO has substantially decontrolled items and as on date only 209 items are controlled by RDSO as against 406 items in Dec’21.  Further efforts are being made to identify and reduce the items 


    4. With the active engagement to develop vendors especially for the items having less source, the total items with less than 3 vendors have now reduced to 6 in Dec’22 as against 29 items in Dec'21.


**Inspection and Logistics (Mechanical)**



1. Quantity of Wagon Production final inspection for railways and private wagon builders during Jan’22 to Dec’22 16633 as against 11174 that Jan’21 to Dec’21.
2. Inspection calls attended 17282 nos. with Inspection value of ₹ 7352 Crores during Jan’22 to Dec’22 as against 23551 Calls with Inspection value of ₹10045- during Jan’21 to Dec’21.
3. A country wide Joint verification exercise at the major depots of the Railways were organised jointly with the Railways covering over 65 major depots/sick-lines/workshops for reconciliation of warranty claims with respect to EM Pads &amp; coupler components involving more than 35 SSEs/Officers of field units. This proved helpful in liquidation of warranty replacement of Railways long pending with various firms.

# Rolling Stock ends

Thank you !








### Pass KM

## Goods KM

---
class: inverse, middle, center
background-image: url(https://images.unsplash.com/photo-1635266269069-dc18cf5e888f?ixlib=rb-4.0.3&amp;ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&amp;auto=format&amp;fit=crop&amp;w=2340&amp;q=80)
background-size: contain

# Get Started
This **.red[simple]** .white.bg-purple[demo]
_.orange[shows]_ the colors .green[in action].

---

## Quarto {background-image=url{"https://akm-img-a-in.tosshub.com/indiatoday/images/story/201810/indian-railway_650_020315033408.jpeg?Fuh6JGGRTy0dVPl8FfSKjGMuKgPUzZaK} }

Quarto enables you to weave together content and executable code into a finished presentation. To learn more about Quarto presentations see &lt;https://quarto.org/docs/presentations/&gt;.

## Bullets {background-color="red"}

When you click the *Render* button a document will be generated that includes:

-   Content authored with markdown
-   Output from executable code

# Hello World

Install the **xaringan** package from [Github](https://github.com/yihui/xaringan):


```r
devtools::install_github("yihui/xaringan")
```

--

You are recommended to use the [RStudio IDE](https://www.rstudio.com/products/rstudio/), but you do not have to.

- Create a new R Markdown document from the menu `File -&gt; New File -&gt; R Markdown -&gt; From Template -&gt; Ninja Presentation`;&lt;sup&gt;1&lt;/sup&gt;

--

- Click the `Knit` button to compile it;

---

- or use the [RStudio Addin](https://rstudio.github.io/rstudioaddins/)&lt;sup&gt;2&lt;/sup&gt; "Infinite Moon Reader" to live preview the slides (every time you update and save the Rmd document, the slides will be automatically reloaded in RStudio Viewer.

"kunoichi", "ninjutsu"
"chocolate-fonts"  "chocolate"        "default-fonts"   
 "default"          "duke-blue"        "fc-fonts"        
 "fc"               "hygge-duke"       "hygge"           
 "kunoichi"         "lucy-fonts"       "lucy"            
 "metropolis-fonts" "metropolis"       "middlebury-fonts"
 "middlebury"       "ninjutsu"         "rladies-fonts"   
 "rladies"          "robot-fonts"      "robot"           
 "rutgers-fonts"    "rutgers"          "shinobi"         
 "tamu-fonts"       "tamu"             "uo-fonts"        
 "uo"               "uol-fonts"        "uol"

.footnote[
[1] 中文用户请看[这份教程](http://slides.yihui.name/xaringan/zh-CN.html)

[2] See [#2](https://github.com/yihui/xaringan/issues/2) if you do not see the template or addin in RStudio.
]

---
background-image: url(https://india.uitp.org/sites/default/files/images/indian-railways.jpg)
background-position: 50% 50%
class: center, top, inverse

# You only live once!

# You only live once!

---

# Hello Ninja

The option highlightLines: true of nature will highlight code lines that start with *, or are wrapped in {{ }}, or have trailing comments #&lt;&lt;;

As a presentation ninja, you certainly should not be satisfied by the "Hello World" example. You need to understand more about two things:

1. The [remark.js](https://remarkjs.com) library;

1. The **xaringan** package;

Basically **xaringan** injected the chakra of R Markdown (minus Pandoc) into **remark.js**. The slides are rendered by remark.js in the web browser, and the Markdown source needed by remark.js is generated from R Markdown (**knitr**).

---

background-image: url(`dahlia.png`)
background-position: 50% 50%
background-size: cover
class: inverse middle
## Presenting like a kunoichi with ⚔️aringan
1. Jot down in Markdown
2. Prettify with CSS
3. Interact with JS

```r
*install.packages("xaringan")
```
.footnote[image credit: Emi Tanaka]
---


.panelset[
  .panel[.panel-name[Code]

ggplot2::ggplot(mpg, aes(displ, hwy, colour = class)) +
  ggplot2::geom_point()
  ]

.panel[.panel-name[Plot]

```r
#    plot(cars)
ggplot2::ggplot(mpg, aes(displ, hwy, colour = class)) +   ggplot2::geom_point() + theme_bw()
```

![](index_files/figure-html/panel-chunk-1.png)&lt;!-- --&gt;
  ]
  
.panel[.panel-name[Plot2]

```r
#    plot(cars)
ggplot2::ggplot(mpg, aes(displ, hwy, colour = class)) +   ggplot2::geom_point(size = 4) + theme_bw()
```

![](index_files/figure-html/panel-chunk2-1.png)&lt;!-- --&gt;
  ]  
  
  
.panel[.panel-name[Plot3]

```r
#    plot(cars)
ggplot2::ggplot(mpg, aes(displ, hwy, colour = class)) +   ggplot2::geom_point(size = 10) + theme_bw()
```

![](index_files/figure-html/panel-chunk3-1.png)&lt;!-- --&gt;
  ]    
  
.panel[.panel-name[Plot3]

```r
#    plot(cars)
ggplot2::ggplot(mpg, aes(displ, hwy, colour = class)) +   ggplot2::geom_point(size = 8) + theme_bw()
```

![](index_files/figure-html/panel-chunk4-1.png)&lt;!-- --&gt;
  ]    
  
  
]

---

# remark.js

You can see an introduction of remark.js from [its homepage](https://remarkjs.com). You should read the [remark.js Wiki](https://github.com/gnab/remark/wiki) at least once to know how to

- create a new slide (Markdown syntax&lt;sup&gt;*&lt;/sup&gt; and slide properties);

- format a slide (e.g. text alignment);

- configure the slideshow;

- and use the presentation (keyboard shortcuts).

It is important to be familiar with remark.js before you can understand the options in **xaringan**.

.footnote[[*] It is different with Pandoc's Markdown! It is limited but should be enough for presentation purposes. Come on... You do not need a slide for the Table of Contents! Well, the Markdown support in remark.js [may be improved](https://github.com/gnab/remark/issues/142) in the future.]

---
background-image: url(https://github.com/yihui/xaringan/releases/download/v0.0.2/karl-moustache.jpg)
background-size: cover
class: center, bottom, inverse

# I was so happy to have discovered remark.js!

---
background-image: url(https://india.uitp.org/sites/default/files/images/indian-railways.jpg)
background-image: url(/Users/Lenovo/gkgit/pedqam/dahlia.png)
background-size: cover
class: center, top, inverse

# I was so happy to have discovered remark.js!

## This is second level

This is paragraph is normal

---
class: inverse, middle, center

# Using xaringan

---



# xaringan



Provides an R Markdown output format `xaringan::moon_reader` as a wrapper for remark.js, and you can use it in the YAML metadata, e.g.

```yaml
---
title: "A Cool Presentation"
output:
  xaringan::moon_reader:
    yolo: true
    nature:
      autoplay: 30000
---
```

See the help page `?xaringan::moon_reader` for all possible options that you can use.

---

# remark.js vs xaringan

Some differences between using remark.js (left) and using **xaringan** (right):

.pull-left[
1. Start with a boilerplate HTML file;

1. Plain Markdown;

1. Write JavaScript to autoplay slides;

1. Manually configure MathJax;

1. Highlight code with `*`;

1. Edit Markdown source and refresh browser to see updated slides;
]

.pull-right[
1. Start with an R Markdown document;

1. R Markdown (can embed R/other code chunks);

1. Provide an option `autoplay`;

1. MathJax just works;&lt;sup&gt;*&lt;/sup&gt;

1. Highlight code with `{{}}`;

1. The RStudio addin "Infinite Moon Reader" automatically refreshes slides on changes;
]

.footnote[[*] Not really. See next page.]

---

# Math Expressions

You can write LaTeX math expressions inside a pair of dollar signs, e.g. &amp;#36;\alpha+\beta$ renders `\(\alpha+\beta\)`. You can use the display style with double dollar signs:

```
$$\bar{X}=\frac{1}{n}\sum_{i=1}^nX_i$$
```

`$$\bar{X}=\frac{1}{n}\sum_{i=1}^nX_i$$`

Limitations:

1. The source code of a LaTeX math expression must be in one line, unless it is inside a pair of double dollar signs, in which case the starting `$$` must appear in the very beginning of a line, followed immediately by a non-space character, and the ending `$$` must be at the end of a line, led by a non-space character;

1. There should not be spaces after the opening `$` or before the closing `$`.

1. Math does not work on the title slide (see [#61](https://github.com/yihui/xaringan/issues/61) for a workaround).

---

# R Code


```r
# a boring regression
fit = lm(dist ~ 1 + speed, data = cars)
coef(summary(fit))
```

```
#               Estimate Std. Error   t value     Pr(&gt;|t|)
# (Intercept) -17.579095  6.7584402 -2.601058 1.231882e-02
# speed         3.932409  0.4155128  9.463990 1.489836e-12
```

```r
dojutsu = c('地爆天星', '天照', '加具土命', '神威', '須佐能乎', '無限月読')
grep('天', dojutsu, value = TRUE)
```

```
# [1] "地爆天星" "天照"
```

---

# R Plots


---

# Tables

If you want to generate a table, make sure it is in the HTML format (instead of Markdown or other formats), e.g.,


```r
knitr::kable(head(iris), format = 'html')
```

&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:right;"&gt; Sepal.Length &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; Sepal.Width &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; Petal.Length &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; Petal.Width &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Species &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 5.1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3.5 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.4 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; setosa &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 4.9 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3.0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.4 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; setosa &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 4.7 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3.2 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; setosa &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 4.6 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3.1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.5 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; setosa &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 5.0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3.6 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.4 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; setosa &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 5.4 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3.9 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.7 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.4 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; setosa &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

---

# HTML Widgets

I have not thoroughly tested HTML widgets against **xaringan**. Some may work well, and some may not. It is a little tricky.

Similarly, the Shiny mode (`runtime: shiny`) does not work. I might get these issues fixed in the future, but these are not of high priority to me. I never turn my presentation into a Shiny app. When I need to demonstrate more complicated examples, I just launch them separately. It is convenient to share slides with other people when they are plain HTML/JS applications.

See the next page for two HTML widgets.

---


```r
library(leaflet)
leaflet() %&gt;% addTiles() %&gt;% setView(-93.65, 42.0285, zoom = 17)
```

<div class="leaflet html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-38291eec8f37ff6e0bdd" style="width:100%;height:432px;"></div>
<script type="application/json" data-for="htmlwidget-38291eec8f37ff6e0bdd">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"https://openstreetmap.org\">OpenStreetMap<\/a> contributors, <a href=\"https://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA<\/a>"}]}],"setView":[[42.0285,-93.65],17,[]]},"evals":[],"jsHooks":[]}</script>

---


```r
DT::datatable(
  head(iris, 10),
  fillContainer = FALSE, options = list(pageLength = 8)
)
```

<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-af6dcbffa1e0ea4bd143" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-af6dcbffa1e0ea4bd143">{"x":{"filter":"none","fillContainer":false,"data":[["1","2","3","4","5","6","7","8","9","10"],[5.1,4.9,4.7,4.6,5,5.4,4.6,5,4.4,4.9],[3.5,3,3.2,3.1,3.6,3.9,3.4,3.4,2.9,3.1],[1.4,1.4,1.3,1.5,1.4,1.7,1.4,1.5,1.4,1.5],[0.2,0.2,0.2,0.2,0.2,0.4,0.3,0.2,0.2,0.1],["setosa","setosa","setosa","setosa","setosa","setosa","setosa","setosa","setosa","setosa"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Sepal.Length<\/th>\n      <th>Sepal.Width<\/th>\n      <th>Petal.Length<\/th>\n      <th>Petal.Width<\/th>\n      <th>Species<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":8,"columnDefs":[{"className":"dt-right","targets":[1,2,3,4]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[8,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>

---

# Some Tips

- When you use the "Infinite Moon Reader" addin in RStudio, your R session will be blocked by default. You can click the red button on the right of the console to stop serving the slides, or use the _daemonized_ mode so that it does not block your R session. To do the latter, you can set the option

    ```r
    options(servr.daemon = TRUE)
    ```
    
    in your current R session, or in `~/.Rprofile` so that it is applied to all future R sessions. I do the latter by myself.
    
    To know more about the web server, see the [**servr**](https://github.com/yihui/servr) package.

--

- Do not forget to try the `yolo` option of `xaringan::moon_reader`.

    ```yaml
    output:
      xaringan::moon_reader:
        yolo: true
    ```

---

# Some Tips

- Slides can be automatically played if you set the `autoplay` option under `nature`, e.g. go to the next slide every 30 seconds in a lightning talk:

    ```yaml
    output:
      xaringan::moon_reader:
        nature:
          autoplay: 30000
    ```

--

- A countdown timer can be added to every page of the slides using the `countdown` option under `nature`, e.g. if you want to spend one minute on every page when you give the talk, you can set:

    ```yaml
    output:
      xaringan::moon_reader:
        nature:
          countdown: 60000
    ```

    Then you will see a timer counting down from `01:00`, to `00:59`, `00:58`, ... When the time is out, the timer will continue but the time turns red.
    
---

# Some Tips

- The title slide is created automatically by **xaringan**, but it is just another remark.js slide added before your other slides.

    The title slide is set to `class: center, middle, inverse, title-slide` by default. You can change the classes applied to the title slide with the `titleSlideClass` option of `nature` (`title-slide` is always applied).

    ```yaml
    output:
      xaringan::moon_reader:
        nature:
          titleSlideClass: [top, left, inverse]
    ```
    
--

- If you'd like to create your own title slide, disable **xaringan**'s title slide with the `seal = FALSE` option of `moon_reader`.

    ```yaml
    output:
      xaringan::moon_reader:
        seal: false
    ```

---

# Some Tips

- There are several ways to build incremental slides. See [this presentation](https://slides.yihui.name/xaringan/incremental.html) for examples.

- The option `highlightLines: true` of `nature` will highlight code lines that start with `*`, or are wrapped in `{{ }}`, or have trailing comments `#&lt;&lt;`;

    ```yaml
    output:
      xaringan::moon_reader:
        nature:
          highlightLines: true
    ```

    See examples on the next page.

---

# Some Tips


.pull-left[
An example using a leading `*`:

    ```r
    if (TRUE) {
    ** message("Very important!")
    }
    ```
Output:
```r
if (TRUE) {
* message("Very important!")
}
```

This is invalid R code, so it is a plain fenced code block that is not executed.
]

.pull-right[
An example using `{{}}`:

````
```{r tidy=FALSE}
if (TRUE) {
*{{ message("Very important!") }}
}
```
````
Output:

```r
if (TRUE) {
* message("Very important!") 
}
```

```
## Very important!
```

It is valid R code so you can run it. Note that `{{}}` can wrap an R expression of multiple lines.
]

---

# Some Tips

An example of using the trailing comment `#&lt;&lt;` to highlight lines:

````markdown
```{r tidy=FALSE}
library(ggplot2)
ggplot(mtcars) + 
  aes(mpg, disp) + 
  geom_point() +   #&lt;&lt;
  geom_smooth()    #&lt;&lt;
```
````

Output:


```r
library(ggplot2)
ggplot(mtcars) + 
  aes(mpg, disp) + 
* geom_point() +
* geom_smooth()
```

---

# Some Tips

When you enable line-highlighting, you can also use the chunk option `highlight.output` to highlight specific lines of the text output from a code chunk. For example, `highlight.output = TRUE` means highlighting all lines, and `highlight.output = c(1, 3)` means highlighting the first and third line.

````md
```{r, highlight.output=c(1, 3)}
head(iris)
```
````


```
*##   Sepal.Length Sepal.Width Petal.Length Petal.Width Species
## 1          5.1         3.5          1.4         0.2  setosa
*## 2          4.9         3.0          1.4         0.2  setosa
## 3          4.7         3.2          1.3         0.2  setosa
## 4          4.6         3.1          1.5         0.2  setosa
## 5          5.0         3.6          1.4         0.2  setosa
## 6          5.4         3.9          1.7         0.4  setosa
```

Question: what does `highlight.output = c(TRUE, FALSE)` mean? (Hint: think about R's recycling of vectors)

---

# Some Tips

- To make slides work offline, you need to download a copy of remark.js in advance, because **xaringan** uses the online version by default (see the help page `?xaringan::moon_reader`).

- You can use `xaringan::summon_remark()` to download the latest or a specified version of remark.js. By default, it is downloaded to `libs/remark-latest.min.js`.

- Then change the `chakra` option in YAML to point to this file, e.g.

    ```yaml
    output:
      xaringan::moon_reader:
        chakra: libs/remark-latest.min.js
    ```

- If you used Google fonts in slides (the default theme uses _Yanone Kaffeesatz_, _Droid Serif_, and _Source Code Pro_), they won't work offline unless you download or install them locally. The Heroku app [google-webfonts-helper](https://google-webfonts-helper.herokuapp.com/fonts) can help you download fonts and generate the necessary CSS.

---

# Macros

- remark.js [allows users to define custom macros](https://github.com/yihui/xaringan/issues/80) (JS functions) that can be applied to Markdown text using the syntax `![:macroName arg1, arg2, ...]` or `![:macroName arg1, arg2, ...](this)`. For example, before remark.js initializes the slides, you can define a macro named `scale`:

    ```js
    remark.macros.scale = function (percentage) {
      var url = this;
      return '&lt;img src="' + url + '" style="width: ' + percentage + '" /&gt;';
    };
    ```

    Then the Markdown text

    ```markdown
    ![:scale 50%](image.jpg)
    ```

    will be translated to
    
    ```html
    &lt;img src="image.jpg" style="width: 50%" /&gt;
    ```

---

# Macros (continued)

- To insert macros in **xaringan** slides, you can use the option `beforeInit` under the option `nature`, e.g.,

    ```yaml
    output:
      xaringan::moon_reader:
        nature:
          beforeInit: "macros.js"
    ```

    You save your remark.js macros in the file `macros.js`.

- The `beforeInit` option can be used to insert arbitrary JS code before `remark.create()`. Inserting macros is just one of its possible applications.

---

# CSS

Among all options in `xaringan::moon_reader`, the most challenging but perhaps also the most rewarding one is `css`, because it allows you to customize the appearance of your slides using any CSS rules or hacks you know.

You can see the default CSS file [here](https://github.com/yihui/xaringan/blob/master/inst/rmarkdown/templates/xaringan/resources/default.css). You can completely replace it with your own CSS files, or define new rules to override the default. See the help page `?xaringan::moon_reader` for more information.

---

# CSS

For example, suppose you want to change the font for code from the default "Source Code Pro" to "Ubuntu Mono". You can create a CSS file named, say, `ubuntu-mono.css`:

```css
@import url(https://fonts.googleapis.com/css?family=Ubuntu+Mono:400,700,400italic);

.remark-code, .remark-inline-code { font-family: 'Ubuntu Mono'; }
```

Then set the `css` option in the YAML metadata:

```yaml
output:
  xaringan::moon_reader:
    css: ["default", "ubuntu-mono.css"]
```

Here I assume `ubuntu-mono.css` is under the same directory as your Rmd.

See [yihui/xaringan#83](https://github.com/yihui/xaringan/issues/83) for an example of using the [Fira Code](https://github.com/tonsky/FiraCode) font, which supports ligatures in program code.

---

# Themes

Don't want to learn CSS? Okay, you can use some user-contributed themes. A theme typically consists of two CSS files `foo.css` and `foo-fonts.css`, where `foo` is the theme name. Below are some existing themes:


```r
names(xaringan:::list_css())
```

```
##  [1] "chocolate-fonts"  "chocolate"        "default-fonts"    "default"         
##  [5] "duke-blue"        "fc-fonts"         "fc"               "glasgow_template"
##  [9] "hygge-duke"       "hygge"            "ki-fonts"         "ki"              
## [13] "kunoichi"         "lucy-fonts"       "lucy"             "metropolis-fonts"
## [17] "metropolis"       "middlebury-fonts" "middlebury"       "nhsr-fonts"      
## [21] "nhsr"             "ninjutsu"         "rladies-fonts"    "rladies"         
## [25] "robot-fonts"      "robot"            "rutgers-fonts"    "rutgers"         
## [29] "shinobi"          "tamu-fonts"       "tamu"             "uio-fonts"       
## [33] "uio"              "uo-fonts"         "uo"               "uol-fonts"       
## [37] "uol"              "useR-fonts"       "useR"             "uwm-fonts"       
## [41] "uwm"              "wic-fonts"        "wic"
```

---

# Themes

To use a theme, you can specify the `css` option as an array of CSS filenames (without the `.css` extensions), e.g.,

```yaml
output:
  xaringan::moon_reader:
    css: [default, metropolis, metropolis-fonts]
```

If you want to contribute a theme to **xaringan**, please read [this blog post](https://yihui.name/en/2017/10/xaringan-themes).

---
class: inverse, middle, center
background-image: url(https://upload.wikimedia.org/wikipedia/commons/3/39/Naruto_Shiki_Fujin.svg)
background-size: contain

# Naruto

---
background-image: url(https://upload.wikimedia.org/wikipedia/commons/b/be/Sharingan_triple.svg)
background-size: 100px
background-position: 90% 8%

# Sharingan

The R package name **xaringan** was derived&lt;sup&gt;1&lt;/sup&gt; from **Sharingan**, a dōjutsu in the Japanese anime _Naruto_ with two abilities:

- the "Eye of Insight"

- the "Eye of Hypnotism"

I think a presentation is basically a way to communicate insights to the audience, and a great presentation may even "hypnotize" the audience.&lt;sup&gt;2,3&lt;/sup&gt;

.footnote[
[1] In Chinese, the pronounciation of _X_ is _Sh_ /ʃ/ (as in _shrimp_). Now you should have a better idea of how to pronounce my last name _Xie_.

[2] By comparison, bad presentations only put the audience to sleep.

[3] Personally I find that setting background images for slides is a killer feature of remark.js. It is an effective way to bring visual impact into your presentations.
]

---

# Naruto terminology

The **xaringan** package borrowed a few terms from Naruto, such as

- [Sharingan](http://naruto.wikia.com/wiki/Sharingan) (写輪眼; the package name)

- The [moon reader](http://naruto.wikia.com/wiki/Moon_Reader) (月読; an attractive R Markdown output format)

- [Chakra](http://naruto.wikia.com/wiki/Chakra) (查克拉; the path to the remark.js library, which is the power to drive the presentation)

- [Nature transformation](http://naruto.wikia.com/wiki/Nature_Transformation) (性質変化; transform the chakra by setting different options)

- The [infinite moon reader](http://naruto.wikia.com/wiki/Infinite_Tsukuyomi) (無限月読; start a local web server to continuously serve your slides)

- The [summoning technique](http://naruto.wikia.com/wiki/Summoning_Technique) (download remark.js from the web)

You can click the links to know more about them if you want. The jutsu "Moon Reader" may seem a little evil, but that does not mean your slides are evil.

---

class: center

# Hand seals (印)

Press `h` or `?` to see the possible ninjutsu you can use in remark.js.

![](https://upload.wikimedia.org/wikipedia/commons/7/7e/Mudra-Naruto-KageBunshin.svg)

---

class: center, middle

# Thanks!

Slides created via the R package [**xaringan**](https://github.com/yihui/xaringan).

The chakra comes from [remark.js](https://remarkjs.com), [**knitr**](http://yihui.name/knitr), and [R Markdown](https://rmarkdown.rstudio.com).




    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"ratio": "16:9",
"slideNumberFormat": "%current%",
"highlightStyle": "ir-black",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
(function(time) {
  var d2 = function(number) {
    return ('0' + number).slice(-2); // left-pad 0 to minutes/seconds
  },

  time_format = function(total) {
    var secs = Math.abs(total) / 1000;
    var h = Math.floor(secs / 3600);
    var m = Math.floor(secs % 3600 / 60);
    var s = Math.round(secs % 60);
    var res = d2(m) + ':' + d2(s);
    if (h > 0) res = h + ':' + res;
    return res;  // [hh:]mm:ss
  },

  slide_number_div = function(i) {
    return document.getElementsByClassName('remark-slide-number').item(i);
  },

  current_page_number = function(i) {
    return slide_number_div(i).firstChild.textContent;  // text "i / N"
  };

  var timer = document.createElement('span'); timer.id = 'slide-time-left';
  var time_left = time, k = slideshow.getCurrentSlideIndex(),
      last_page_number = current_page_number(k);

  setInterval(function() {
    time_left = time_left - 1000;
    timer.innerHTML = ' ' + time_format(time_left);
    if (time_left < 0) timer.style.color = 'red';
  }, 1000);

  slide_number_div(k).appendChild(timer);

  slideshow.on('showSlide', function(slide) {
    var i = slide.getSlideIndex(), n = current_page_number(i);
    // reset timer when a new slide is shown and the page number is changed
    if (last_page_number !== n) {
      time_left = time; last_page_number = n;
      timer.innerHTML = ' ' + time_format(time); timer.style.color = null;
    }
    slide_number_div(i).appendChild(timer);
  });
})(10000);
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
